<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" href="css/css.css" />
  </head>
  <body>
    <div class="centralImages">
        <img id="electronjs" alt="electronjs-image" src="img/electronjs.png" />
        <img id="nodejs-npm" alt="nodejs-npm-image" src="img/nodejs-npm.png" />
    </div>
    <h1>Hello <span>World</span> !</h1>
    <h2>Welcome to danielpm1982.com</h2>
    <div class="centralTextMain">
      <p>This is a sample app created with Nodejs (JavaScript runtime built on the V8 JavaScript engine), npm (node package manager) and Electronjs framework.</p>
    </div>
    <!-- We are using node <script>document.write(process.versions.node)</script>,
    Chrome <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>. -->
    <script>
      // Catches username value that was sent from the login window to the main.js, and from there to here.
      // Applies the username value to the welcome message at the span node element - instead of 'World', and turns color greenyellow.
      // On logout, resets the original text and color.
      const electron = require('electron');
      const {ipcRenderer} = electron;
      const spanElement = document.querySelector('span');
      ipcRenderer.on('username', function(e, username){
        spanElement.innerHTML = username;
        spanElement.style.color='greenyellow';
      })
      ipcRenderer.on('logout', function(){
        spanElement.innerHTML = 'World';
        spanElement.style.color='white';
      })
    </script>
  </body>
</html>
